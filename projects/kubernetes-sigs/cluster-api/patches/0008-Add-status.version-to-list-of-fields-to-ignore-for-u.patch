From 104a850fe73b32bce53ae20cf77893ec6681ee64 Mon Sep 17 00:00:00 2001
From: Vivek Koppuru <koppv@amazon.com>
Date: Wed, 12 Jan 2022 19:04:15 -0800
Subject: [PATCH 08/36] Add status.version to list of fields to ignore for
 update

---
 controlplane/kubeadm/internal/webhooks/kubeadmcontrolplane.go | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/controlplane/kubeadm/internal/webhooks/kubeadmcontrolplane.go b/controlplane/kubeadm/internal/webhooks/kubeadmcontrolplane.go
index 18f8d58b2..f88a3f0dd 100644
--- a/controlplane/kubeadm/internal/webhooks/kubeadmcontrolplane.go
+++ b/controlplane/kubeadm/internal/webhooks/kubeadmcontrolplane.go
@@ -108,6 +108,7 @@ func (webhook *KubeadmControlPlane) ValidateCreate(_ context.Context, obj runtim
 
 const (
 	spec                 = "spec"
+	status               = "status"
 	kubeadmConfigSpec    = "kubeadmConfigSpec"
 	clusterConfiguration = "clusterConfiguration"
 	initConfiguration    = "initConfiguration"
@@ -215,6 +216,7 @@ func (webhook *KubeadmControlPlane) ValidateUpdate(_ context.Context, oldObj, ne
 		{spec, "machineNaming", "*"},
 		{spec, "rollout"},
 		{spec, "rollout", "*"},
+		{status, "version"},
 	}
 
 	oldK, ok := oldObj.(*controlplanev1.KubeadmControlPlane)
-- 
2.50.1 (Apple Git-155)

