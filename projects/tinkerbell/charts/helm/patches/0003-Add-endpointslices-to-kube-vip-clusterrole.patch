From 0baa4ea23ea3f57d351bdc27fc8c9c581a8c0c72 Mon Sep 17 00:00:00 2001
From: rajeshvenkata <rajesh.venkat.p@gmail.com>
Date: Sun, 5 Oct 2025 23:01:00 -0700
Subject: [PATCH 3/3] Add endpointslices to kube-vip clusterrole

---
 tinkerbell/stack/templates/kubevip.yaml | 9 +++++++++
 1 file changed, 9 insertions(+)

diff --git a/tinkerbell/stack/templates/kubevip.yaml b/tinkerbell/stack/templates/kubevip.yaml
index f794fa1..f6486bb 100644
--- a/tinkerbell/stack/templates/kubevip.yaml
+++ b/tinkerbell/stack/templates/kubevip.yaml
@@ -84,6 +84,15 @@ rules:
       - "watch"
       - "update"
       - "create"
+  - apiGroups:
+      - "discovery.k8s.io"
+    resources:
+      - "endpointslices"
+    verbs:
+      - "list"
+      - "get"
+      - "watch"
+      - "update"
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
-- 
2.49.0

