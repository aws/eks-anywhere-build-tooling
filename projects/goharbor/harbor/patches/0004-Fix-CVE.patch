From 3bd8e58a6927c33c8f0a0dd9d86aa95cafcfa098 Mon Sep 17 00:00:00 2001
From: Prow Bot <prow@amazonaws.com>
Date: Thu, 19 Feb 2026 21:53:15 +0000
Subject: [PATCH 4/4] Fix CVE

---
 src/go.mod                   |  2 +-
 src/go.sum                   |  3 ++-
 src/portal/package-lock.json | 23 ++++++++++++++++-------
 src/portal/package.json      |  1 +
 4 files changed, 20 insertions(+), 9 deletions(-)

diff --git a/src/go.mod b/src/go.mod
index cb8e8dd7b..40aa42430 100644
--- a/src/go.mod
+++ b/src/go.mod
@@ -156,7 +156,7 @@ require (
 	github.com/robfig/cron v1.0.0 // indirect
 	github.com/sagikazarmark/locafero v0.4.0 // indirect
 	github.com/sagikazarmark/slog-shim v0.1.0 // indirect
-	github.com/satori/go.uuid v1.2.0 // indirect
+	github.com/satori/go.uuid v1.2.1-0.20180404165556-75cca531ea76 // indirect
 	github.com/shiena/ansicolor v0.0.0-20200904210342-c7312218db18 // indirect
 	github.com/sirupsen/logrus v1.9.3 // indirect
 	github.com/smartystreets/goconvey v1.8.1 // indirect
diff --git a/src/go.sum b/src/go.sum
index f297a73d1..84d42fc75 100644
--- a/src/go.sum
+++ b/src/go.sum
@@ -498,8 +498,9 @@ github.com/sagikazarmark/locafero v0.4.0 h1:HApY1R9zGo4DBgr7dqsTH/JJxLTTsOt7u6ke
 github.com/sagikazarmark/locafero v0.4.0/go.mod h1:Pe1W6UlPYUk/+wc/6KFhbORCfqzgYEpgQ3O5fPuL3H4=
 github.com/sagikazarmark/slog-shim v0.1.0 h1:diDBnUNK9N/354PgrxMywXnAwEr1QZcOr6gto+ugjYE=
 github.com/sagikazarmark/slog-shim v0.1.0/go.mod h1:SrcSrq8aKtyuqEI1uvTDTK1arOWRIczQRv+GVI1AkeQ=
-github.com/satori/go.uuid v1.2.0 h1:0uYX9dsZ2yD7q2RtLRtPSdGDWzjeM3TbMJP9utgA0ww=
 github.com/satori/go.uuid v1.2.0/go.mod h1:dA0hQrYB0VpLJoorglMZABFdXlWrHn1NEOzdhQKdks0=
+github.com/satori/go.uuid v1.2.1-0.20180404165556-75cca531ea76 h1:ofyVTM1w4iyKwaQIlRR6Ip06mXXx5Cnz7a4mTGYq1hE=
+github.com/satori/go.uuid v1.2.1-0.20180404165556-75cca531ea76/go.mod h1:dA0hQrYB0VpLJoorglMZABFdXlWrHn1NEOzdhQKdks0=
 github.com/shiena/ansicolor v0.0.0-20200904210342-c7312218db18 h1:DAYUYH5869yV94zvCES9F51oYtN5oGlwjxJJz7ZCnik=
 github.com/shiena/ansicolor v0.0.0-20200904210342-c7312218db18/go.mod h1:nkxAfR/5quYxwPZhyDxgasBMnRtBZd0FCEpawpjMUFg=
 github.com/shopspring/decimal v0.0.0-20180709203117-cd690d0c9e24/go.mod h1:M+9NzErvs504Cn4c5DxATwIqPbtswREoFCre64PpcG4=
diff --git a/src/portal/package-lock.json b/src/portal/package-lock.json
index b61f9c471..75a635c3a 100644
--- a/src/portal/package-lock.json
+++ b/src/portal/package-lock.json
@@ -1,12 +1,12 @@
 {
   "name": "harbor",
-  "version": "2.13.0",
+  "version": "2.14.0",
   "lockfileVersion": 3,
   "requires": true,
   "packages": {
     "": {
       "name": "harbor",
-      "version": "2.13.0",
+      "version": "2.14.0",
       "hasInstallScript": true,
       "dependencies": {
         "@angular/animations": "^16.2.12",
@@ -25,6 +25,7 @@
         "@ngx-translate/core": "15.0.0",
         "@ngx-translate/http-loader": "8.0.0",
         "cron-validator": "^1.3.1",
+        "dompurify": "^3.3.1",
         "echarts": "^5.5.1",
         "js-yaml": "^4.1.0",
         "ngx-clipboard": "^15.1.0",
@@ -7989,10 +7990,12 @@
       }
     },
     "node_modules/dompurify": {
-      "version": "2.4.3",
-      "resolved": "https://registry.npmjs.org/dompurify/-/dompurify-2.4.3.tgz",
-      "integrity": "sha512-q6QaLcakcRjebxjg8/+NP+h0rPfatOgOzc46Fst9VAA3jF2ApfKBNKMzdP4DYTqtUMXSCd5pRS/8Po/OmoCHZQ==",
-      "optional": true
+      "version": "3.3.1",
+      "resolved": "https://registry.npmjs.org/dompurify/-/dompurify-3.3.1.tgz",
+      "integrity": "sha512-qkdCKzLNtrgPFP1Vo+98FRzJnBRGe4ffyCea9IwHB1fyxPOeNTHpLKYGd4Uk9xvNoH0ZoOjwZxNptyMwqrId1Q==",
+      "optionalDependencies": {
+        "@types/trusted-types": "^2.0.7"
+      }
     },
     "node_modules/domutils": {
       "version": "3.1.0",
@@ -12768,7 +12771,7 @@
         "d3": "^7.4.0",
         "dagre-d3-es": "7.0.9",
         "dayjs": "^1.11.7",
-        "dompurify": "2.4.3",
+        "dompurify": "^2.5.0",
         "elkjs": "^0.8.2",
         "khroma": "^2.0.0",
         "lodash-es": "^4.17.21",
@@ -12779,6 +12782,12 @@
         "web-worker": "^1.2.0"
       }
     },
+    "node_modules/mermaid/node_modules/dompurify": {
+      "version": "2.5.0",
+      "resolved": "https://registry.npmjs.org/dompurify/-/dompurify-2.5.0.tgz",
+      "integrity": "sha512-5RXhAXSCrKTqt9pSbobT9PVRX+oPpENplTZqCiK1l0ya+ZOzwo9kqsGLbYRsAhzIiLCwKEy99XKSSrqnRTLVcw==",
+      "optional": true
+    },
     "node_modules/mermaid/node_modules/uuid": {
       "version": "9.0.1",
       "resolved": "https://registry.npmjs.org/uuid/-/uuid-9.0.1.tgz",
diff --git a/src/portal/package.json b/src/portal/package.json
index c703c02df..3c26a08f7 100644
--- a/src/portal/package.json
+++ b/src/portal/package.json
@@ -43,6 +43,7 @@
     "@ngx-translate/core": "15.0.0",
     "@ngx-translate/http-loader": "8.0.0",
     "cron-validator": "^1.3.1",
+    "dompurify": "^3.3.1",
     "echarts": "^5.5.1",
     "js-yaml": "^4.1.0",
     "ngx-clipboard": "^15.1.0",
-- 
2.34.1

